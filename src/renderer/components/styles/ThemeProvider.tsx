import { FC, PropsWithChildren, useEffect, useMemo } from 'react';
import { ThemeProvider as SCThemeProvider } from 'styled-components';
import ColorCollection from '@src/renderer/libs/vs/theme/colorCollection';
import { IVSCTheme } from '@src/shared/types/vs/theme';

const dark: Partial<IVSCTheme['colors']> = {
  'checkbox.border': '#6B6B6B',
  'editor.background': '#1E1E1E',
  'editor.foreground': '#D4D4D4',
  'editor.inactiveSelectionBackground': '#3A3D41',
  'editorIndentGuide.background1': '#404040',
  'editorIndentGuide.activeBackground1': '#707070',
  'editor.selectionHighlightBackground': '#ADD6FF26',
  'list.dropBackground': '#383B3D',
  'activityBarBadge.background': '#007ACC',
  'sideBarTitle.foreground': '#BBBBBB',
  'input.placeholderForeground': '#A6A6A6',
  'menu.background': '#252526',
  'menu.foreground': '#CCCCCC',
  'menu.separatorBackground': '#454545',
  'menu.border': '#454545',
  'statusBarItem.remoteForeground': '#FFF',
  'statusBarItem.remoteBackground': '#16825D',
  'ports.iconRunningProcessForeground': '#369432',
  'sideBarSectionHeader.background': '#0000',
  'sideBarSectionHeader.border': '#ccc3',
  'tab.selectedBackground': '#222222',
  'tab.selectedForeground': '#ffffffa0',
  'tab.lastPinnedBorder': '#ccc3',
  'list.activeSelectionIconForeground': '#FFF',
  'terminal.inactiveSelectionBackground': '#3A3D41',
  'widget.border': '#303031',
  'actionBar.toggledBackground': '#383a49',
};

const legacyCommunityMaterialThemeDarkerHighContrast = {
  focusBorder: '#FFFFFF00',
  'editorCursor.foreground': '#FFCC00',
  'editorRuler.foreground': '#424242',
  'scrollbar.shadow': '#21212100',
  'editorLink.activeForeground': '#EEFFFF',
  'selection.background': '#80CBC4',
  'progressBar.background': '#80CBC4',
  'textLink.foreground': '#80CBC4',
  'textLink.activeForeground': '#EEFFFF',
  'widget.shadow': '#00000030',
  'button.background': '#61616150',
  'debugToolBar.background': '#212121',
  'pickerGroup.foreground': '#80CBC4',
  'inputOption.activeBackground': '#EEFFFF30',
  'inputOption.activeBorder': '#EEFFFF30',
  'editorLineNumber.foreground': '#424242',
  'editorLineNumber.activeForeground': '#848484',
  'editorBracketMatch.border': '#FFCC0050',
  'editorBracketMatch.background': '#212121',
  'editorWhitespace.foreground': '#EEFFFF40',
  'editorOverviewRuler.findMatchForeground': '#80CBC4',
  'editorOverviewRuler.border': '#212121',
  'editorOverviewRuler.errorForeground': '#FF537040',
  'editorOverviewRuler.infoForeground': '#82AAFF40',
  'editorOverviewRuler.warningForeground': '#FFCB6B40',
  'editorInfo.foreground': '#82AAFF70',
  'editorWarning.foreground': '#FFCB6B70',
  'editorError.foreground': '#FF537070',
  'editorHoverWidget.background': '#212121',
  'editorHoverWidget.border': '#FFFFFF10',
  'editorIndentGuide.background': '#42424270',
  'editorIndentGuide.activeBackground': '#424242',
  'editorGroupHeader.tabsBackground': '#212121',
  'editorGroup.border': '#00000030',
  'editorGutter.modifiedBackground': '#82AAFF60',
  'editorGutter.addedBackground': '#C3E88D60',
  'editorGutter.deletedBackground': '#FF537060',
  'editor.background': '#212121',
  'editor.foreground': '#EEFFFF',
  'editor.lineHighlightBackground': '#00000050',
  'editor.selectionBackground': '#61616150',
  'editor.selectionHighlightBackground': '#FFCC0020',
  'editor.findMatchBackground': '#000000',
  'editor.findMatchHighlightBackground': '#00000050',
  'editor.findMatchBorder': '#80CBC4',
  'editor.findMatchHighlightBorder': '#ffffff50',
  'tab.activeBorder': '#80CBC4',
  'tab.activeModifiedBorder': '#848484',
  'tab.unfocusedActiveBorder': '#4A4A4A',
  'tab.activeForeground': '#FFFFFF',
  'tab.inactiveForeground': '#848484',
  'tab.inactiveBackground': '#212121',
  'tab.unfocusedActiveForeground': '#EEFFFF',
  'tab.border': '#212121',
  'statusBar.noFolderBackground': '#212121',
  'statusBar.border': '#00000060',
  'statusBar.background': '#1a1a1a',
  'statusBar.foreground': '#616161',
  'statusBar.debuggingBackground': '#C792EA',
  'statusBar.debuggingForeground': '#ffffff',
  'statusBarItem.hoverBackground': '#4A4A4A20',
  'statusBarItem.remoteForeground': '#000000',
  'statusBarItem.remoteBackground': '#80CBC4',
  'activityBar.background': '#1a1a1a',
  'activityBar.border': '#00000060',
  'activityBar.foreground': '#EEFFFF',
  'activityBarBadge.background': '#80CBC4',
  'activityBarBadge.foreground': '#000000',
  'titleBar.activeBackground': '#1a1a1a',
  'titleBar.activeForeground': '#EEFFFF',
  'titleBar.inactiveBackground': '#1a1a1a',
  'titleBar.inactiveForeground': '#848484',
  'titleBar.border': '#00000060',
  'sideBar.background': '#1a1a1a',
  'sideBar.foreground': '#848484',
  'sideBar.border': '#00000060',
  'sideBarTitle.foreground': '#EEFFFF',
  'sideBarSectionHeader.background': '#1a1a1a',
  'sideBarSectionHeader.border': '#00000060',
  'input.background': '#2B2B2B',
  'input.foreground': '#EEFFFF',
  'input.placeholderForeground': '#EEFFFF60',
  'input.border': '#FFFFFF10',
  'inputValidation.errorBorder': '#FF537050',
  'inputValidation.infoBorder': '#82AAFF50',
  'inputValidation.warningBorder': '#FFCB6B50',
  'dropdown.background': '#212121',
  'dropdown.border': '#FFFFFF10',
  'list.hoverForeground': '#FFFFFF',
  'list.hoverBackground': '#1a1a1a',
  'list.activeSelectionBackground': '#1a1a1a',
  'list.activeSelectionForeground': '#80CBC4',
  'list.inactiveSelectionForeground': '#80CBC4',
  'list.inactiveSelectionBackground': '#00000030',
  'list.focusBackground': '#EEFFFF20',
  'list.focusForeground': '#EEFFFF',
  'list.highlightForeground': '#80CBC4',
  'terminal.ansiWhite': '#ffffff',
  'terminal.ansiBlack': '#000000',
  'terminal.ansiBlue': '#82AAFF',
  'terminal.ansiCyan': '#89DDFF',
  'terminal.ansiGreen': '#C3E88D',
  'terminal.ansiMagenta': '#C792EA',
  'terminal.ansiRed': '#FF5370',
  'terminal.ansiYellow': '#FFCB6B',
  'terminal.ansiBrightWhite': '#ffffff',
  'terminal.ansiBrightBlack': '#4A4A4A',
  'terminal.ansiBrightBlue': '#82AAFF',
  'terminal.ansiBrightCyan': '#89DDFF',
  'terminal.ansiBrightGreen': '#C3E88D',
  'terminal.ansiBrightMagenta': '#C792EA',
  'terminal.ansiBrightRed': '#FF5370',
  'terminal.ansiBrightYellow': '#FFCB6B',
  'terminalCursor.foreground': '#FFCB6B',
  'terminalCursor.background': '#000000',
  'scrollbarSlider.background': '#EEFFFF20',
  'scrollbarSlider.hoverBackground': '#EEFFFF10',
  'scrollbarSlider.activeBackground': '#80CBC4',
  'editorSuggestWidget.background': '#212121',
  'editorSuggestWidget.foreground': '#EEFFFF',
  'editorSuggestWidget.highlightForeground': '#80CBC4',
  'editorSuggestWidget.selectedBackground': '#00000050',
  'editorSuggestWidget.border': '#FFFFFF10',
  'editorWidget.background': '#1a1a1a',
  'editorWidget.resizeBorder': '#80CBC4',
  'editorWidget.border': '',
  'editorMarkerNavigation.background': '#EEFFFF05',
  'panel.border': '#00000060',
  'panel.background': '#1a1a1a',
  'panel.dropBackground': '#EEFFFF',
  'panelTitle.inactiveForeground': '#EEFFFF',
  'panelTitle.activeForeground': '#FFFFFF',
  'panelTitle.activeBorder': '#80CBC4',
  'diffEditor.insertedTextBackground': '#C3E88D15',
  'diffEditor.removedTextBackground': '#FF537020',
  'notifications.background': '#212121',
  'notifications.foreground': '#EEFFFF',
  'notificationLink.foreground': '#80CBC4',
  'badge.background': '#00000030',
  'badge.foreground': '#4A4A4A',
  'extensionButton.prominentBackground': '#C3E88D90',
  'extensionButton.prominentHoverBackground': '#C3E88D',
  'peekView.border': '#00000030',
  'peekViewEditor.background': '#EEFFFF05',
  'peekViewTitle.background': '#EEFFFF05',
  'peekViewResult.background': '#EEFFFF05',
  'peekViewEditorGutter.background': '#EEFFFF05',
  'peekViewTitleDescription.foreground': '#EEFFFF60',
  'peekViewResult.matchHighlightBackground': '#61616150',
  'peekViewEditor.matchHighlightBackground': '#61616150',
  'gitDecoration.deletedResourceForeground': '#FF537090',
  'gitDecoration.conflictingResourceForeground': '#FFCB6B90',
  'gitDecoration.modifiedResourceForeground': '#82AAFF90',
  'gitDecoration.untrackedResourceForeground': '#C3E88D90',
  'gitDecoration.ignoredResourceForeground': '#84848490',
  'peekViewResult.selectionBackground': '#84848470',
  'breadcrumb.background': '#212121',
  'breadcrumb.foreground': '#848484',
  'breadcrumb.focusForeground': '#EEFFFF',
  'breadcrumb.activeSelectionForeground': '#80CBC4',
  'breadcrumbPicker.background': '#1a1a1a',
  'menu.background': '#212121',
  'menu.foreground': '#EEFFFF',
  'menu.selectionBackground': '#00000050',
  'menu.selectionForeground': '#80CBC4',
  'menu.selectionBorder': '#00000030',
  'menu.separatorBackground': '#EEFFFF',
  'menubar.selectionBackground': '#00000030',
  'menubar.selectionForeground': '#80CBC4',
  'menubar.selectionBorder': '#00000030',
  'settings.dropdownForeground': '#EEFFFF',
  'settings.dropdownBackground': '#1a1a1a',
  'settings.numberInputForeground': '#EEFFFF',
  'settings.numberInputBackground': '#1a1a1a',
  'settings.textInputForeground': '#EEFFFF',
  'settings.textInputBackground': '#1a1a1a',
  'settings.headerForeground': '#80CBC4',
  'settings.modifiedItemIndicator': '#80CBC4',
  'settings.checkboxBackground': '#1a1a1a',
  'settings.checkboxForeground': '#EEFFFF',
  'listFilterWidget.background': '#00000030',
  'listFilterWidget.outline': '#00000030',
  'listFilterWidget.noMatchesOutline': '#00000030',
  'tree.indentGuidesStroke': '#424242',
};

const light = {
  'checkbox.border': '#919191',
  'editor.background': '#FFFFFF',
  'editor.foreground': '#000000',
  'editor.inactiveSelectionBackground': '#E5EBF1',
  'editorIndentGuide.background1': '#D3D3D3',
  'editorIndentGuide.activeBackground1': '#939393',
  'editor.selectionHighlightBackground': '#ADD6FF80',
  'editorSuggestWidget.background': '#F3F3F3',
  'activityBarBadge.background': '#007ACC',
  'sideBarTitle.foreground': '#6F6F6F',
  'list.hoverBackground': '#E8E8E8',
  'menu.border': '#D4D4D4',
  'input.placeholderForeground': '#767676',
  'searchEditor.textInputBorder': '#CECECE',
  'settings.textInputBorder': '#CECECE',
  'settings.numberInputBorder': '#CECECE',
  'statusBarItem.remoteForeground': '#FFF',
  'statusBarItem.remoteBackground': '#16825D',
  'ports.iconRunningProcessForeground': '#369432',
  'sideBarSectionHeader.background': '#0000',
  'sideBarSectionHeader.border': '#61616130',
  'tab.selectedForeground': '#333333b3',
  'tab.selectedBackground': '#ffffffa5',
  'tab.lastPinnedBorder': '#61616130',
  'notebook.cellBorderColor': '#E8E8E8',
  'notebook.selectedCellBackground': '#c8ddf150',
  'statusBarItem.errorBackground': '#c72e0f',
  'list.activeSelectionIconForeground': '#FFF',
  'list.focusAndSelectionOutline': '#90C2F9',
  'terminal.inactiveSelectionBackground': '#E5EBF1',
  'widget.border': '#d4d4d4',
  'actionBar.toggledBackground': '#dddddd',
  'diffEditor.unchangedRegionBackground': '#f8f8f8',
};

const ThemeProvider: FC<PropsWithChildren> = ({ children }) => {
  const theme = useMemo(() => {
    const colors = new ColorCollection().registerThemeColor(light).genrateThemeColors('dark');
    return { colors };
  }, []);

  return <SCThemeProvider theme={theme}>{children}</SCThemeProvider>;
};

export default ThemeProvider;
